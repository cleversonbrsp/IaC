# Example variables file for OCI PostgreSQL DB System
# Copy this file to "terraform.tfvars" and replace placeholder values.

# OCI Provider Configuration
oci_region         = "us-ashburn-1"
oci_config_profile = "DEFAULT"

# Compartment Configuration
comp_id = "ocid1.compartment.oc1..xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Common Tags
common_tags = {
  defined_tags = {
    "finops.cr" = "lab"
  }
}

# PostgreSQL DB System Configuration
db_system_display_name = "postgresql-db-system"
db_system_description  = "PostgreSQL DB System description"
db_system_config_id    = "ocid1.postgresqlconfiguration.oc1..xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
db_version             = "14"

# Instance Configuration
instance_count              = 1
instance_memory_size_in_gbs = 32
instance_ocpu_count         = 2
db_system_shape             = "PostgreSQL.VM.Standard.E4.Flex"
system_type                 = "OCI_OPTIMIZED_STORAGE"

# Management Policy
maintenance_window_start    = "MON 12:30"
backup_start               = "00:00"
backup_days_of_the_month   = [1]
backup_days_of_the_week    = ["MONDAY"]
backup_kind                 = "WEEKLY"
backup_retention_days       = 7

# Network Configuration
# Option 1: Create new network resources
create_network_resources    = true
vcn_cidr_block              = "10.0.0.0/16"
vcn_display_name            = "postgresql-vcn"
vcn_dns_label               = "postgresqlvcn"
subnet_cidr_block           = "10.0.10.0/24"
subnet_display_name         = "postgresql-subnet"
subnet_dns_label            = "postgresqlsubnet"
subnet_prohibit_public_ip   = true
nsg_display_name            = "postgresql-nsg"
primary_db_endpoint_private_ip = "10.0.10.10"

# Option 2: Use existing network resources
# create_network_resources    = false
# subnet_id                   = "ocid1.subnet.oc1..xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
# nsg_ids                     = ["ocid1.networksecuritygroup.oc1..xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"]
# primary_db_endpoint_private_ip = "10.0.10.10"

is_reader_endpoint_enabled = false

# Database Credentials (required for new database, source_type = "NONE")
# Option 1: Use OCI Vault Secret (recommended for production)
# db_username            = "admin"
# db_password_secret_id  = "ocid1.vaultsecret.oc1..xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Option 2: Use plain text password (not recommended for production)
# db_username = "admin"
# db_password = "your-secure-password"

# Source Configuration
# For new database: source_type = "NONE" (and provide credentials above)
# For restore from backup: source_type = "BACKUP" (and provide backup_id)
source_type                        = "NONE"
# backup_id                          = "ocid1.postgresqlbackup.oc1..xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
is_having_restore_config_overrides = false

# Storage Configuration
availability_domain   = "giZW:US-ASHBURN-AD-1"
storage_iops          = "75000"
is_regionally_durable = false

